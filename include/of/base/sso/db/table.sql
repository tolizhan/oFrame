INSERT INTO `__FOREIGNKEY` (`CONSTRAINT_NAME`,`TABLE_NAME`,`REFERENCED_TABLE_NAME`,`COLUMNS_NAME`,`REFERENCED_COLUMNS_NAME`,`UPDATE_RULE`,`DELETE_RULE`) VALUES ('同步_of_sso_realm表功能操作','_of_sso_func','_of_sso_realm','`realmId`','`id`','CASCADE','CASCADE '),
('同步_of_sso_realm表日志操作','_of_sso_log','_of_sso_realm','`site`','`name`','CASCADE','CASCADE '),
('同步_of_sso_user表日志操作','_of_sso_log','_of_sso_user','`name`','`name`','CASCADE','CASCADE '),
('同步_of_sso_realm表角色操作','_of_sso_pack','_of_sso_realm','`realmId`','`id`','CASCADE','CASCADE '),
('同步_of_sso_pack表许可操作','_of_sso_permit','_of_sso_pack','`packId`','`id`','CASCADE','CASCADE '),
('同步_of_sso_realm表许可操作','_of_sso_permit','_of_sso_realm','`realmId`','`id`','CASCADE','CASCADE '),
('同步_of_sso_user表许可操作','_of_sso_permit','_of_sso_user','`userId`','`id`','CASCADE','CASCADE '),
('同步_of_sso_func表权限操作','_of_sso_role','_of_sso_func','`funcId`','`id`','CASCADE','CASCADE '),
('同步_of_sso_pack表权限操作','_of_sso_role','_of_sso_pack','`packId`','`id`','CASCADE','CASCADE '),
('同步_of_sso_realm表权限操作','_of_sso_role','_of_sso_realm','`realmId`','`id`','CASCADE','CASCADE ');
INSERT INTO `__TABLES` (`TABLE_NAME`,`ENGINE`,`ROW_FORMAT`,`TABLE_COLLATION`,`AUTO_INCREMENT`,`CREATE_OPTIONS`,`TABLE_COMMENT`) VALUES ('_of_sso_func','InnoDB','Compact','utf8_general_ci','19','','单点登录功能表'),
('_of_sso_log','InnoDB','Compact','utf8_general_ci','3','','用户登录日志'),
('_of_sso_pack','InnoDB','Compact','utf8_general_ci','2','','单点登录包表'),
('_of_sso_permit','InnoDB','Compact','utf8_general_ci','2','','单点登录用户许可关联表'),
('_of_sso_realm','InnoDB','Compact','utf8_general_ci','2','','单点登录系统表'),
('_of_sso_role','InnoDB','Compact','utf8_general_ci','19','','单点登录权限关联表'),
('_of_sso_user','InnoDB','Compact','utf8_general_ci','2','','单点登录用户表');
INSERT INTO `__COLUMNS` (`TABLE_NAME`,`COLUMN_NAME`,`ORDINAL_POSITION`,`COLUMN_DEFAULT`,`IS_NULLABLE`,`CHARACTER_SET_NAME`,`COLLATION_NAME`,`COLUMN_TYPE`,`EXTRA`,`COLUMN_COMMENT`) VALUES ('_of_sso_func','id','1',NULL,'NO',NULL,NULL,'int(10) unsigned','auto_increment','主键'),
('_of_sso_func','realmId','2',NULL,'NO',NULL,NULL,'int(10) unsigned','','系统ID,关联_of_sso_realm::id'),
('_of_sso_func','name','3','','NO','utf8','utf8_general_ci','char(255)','','权限名称'),
('_of_sso_func','state','4','1','NO',NULL,NULL,'tinyint(1)','','可用状态,0=冻结,1=启用'),
('_of_sso_func','lable','5','','NO','utf8','utf8_general_ci','char(255)','','备注'),
('_of_sso_func','data','6',NULL,'NO','utf8','utf8_general_ci','mediumtext','','权限自带的数据'),
('_of_sso_log','id','1',NULL,'NO',NULL,NULL,'int(11) unsigned','auto_increment','日志主键'),
('_of_sso_log','name','2',NULL,'NO','utf8','utf8_general_ci','char(255)','','用户帐号'),
('_of_sso_log','site','3',NULL,'NO','utf8','utf8_general_ci','char(255)','','系统帐号'),
('_of_sso_log','time','4',NULL,'NO',NULL,NULL,'datetime','','登录时间'),
('_of_sso_log','ip','5',NULL,'NO','utf8','utf8_general_ci','char(40)','','IP 地址'),
('_of_sso_pack','id','1',NULL,'NO',NULL,NULL,'int(10) unsigned','auto_increment','主键'),
('_of_sso_pack','realmId','2',NULL,'NO',NULL,NULL,'int(10) unsigned','','系统ID,关联_of_sso_realm::id'),
('_of_sso_pack','name','3','','NO','utf8','utf8_general_ci','char(255)','','角色名'),
('_of_sso_pack','state','4','1','NO',NULL,NULL,'tinyint(1)','','可用状态,0=冻结,1=启用'),
('_of_sso_pack','lable','5','','NO','utf8','utf8_general_ci','char(255)','','备注'),
('_of_sso_pack','data','6',NULL,'NO','utf8','utf8_general_ci','mediumtext','','包自带的数据'),
('_of_sso_permit','id','1',NULL,'NO',NULL,NULL,'int(10) unsigned','auto_increment','主键'),
('_of_sso_permit','realmId','2','0','NO',NULL,NULL,'int(10) unsigned','','系统ID,关联_of_sso_realm::id'),
('_of_sso_permit','packId','3',NULL,'NO',NULL,NULL,'int(10) unsigned','','角色ID,关联_of_sso_pack::id'),
('_of_sso_permit','userId','4',NULL,'NO',NULL,NULL,'int(10) unsigned','','用户ID,关联_of_sso_user::id'),
('_of_sso_realm','id','1',NULL,'NO',NULL,NULL,'int(10) unsigned','auto_increment','主键'),
('_of_sso_realm','name','2','','NO','utf8','utf8_general_ci','char(255)','','帐号'),
('_of_sso_realm','lable','3','','NO','utf8','utf8_general_ci','char(255)','','简称'),
('_of_sso_realm','pwd','4','','NO','utf8','utf8_general_ci','char(255)','','密码'),
('_of_sso_realm','state','5','1','NO',NULL,NULL,'tinyint(1)','','可用状态,0=冻结,1=启用'),
('_of_sso_realm','notes','6','','NO','utf8','utf8_general_ci','char(255)','','备注'),
('_of_sso_realm','trust','7','0','NO',NULL,NULL,'tinyint(1)','','系统对接权限,1=可操作当前用户和系统的数据,3=还可通过帐号密码操作用户数据,7=还可获取用户列表并无限制操作用户'),
('_of_sso_role','id','1',NULL,'NO',NULL,NULL,'int(10) unsigned','auto_increment','主键'),
('_of_sso_role','realmId','2','0','NO',NULL,NULL,'int(10) unsigned','','系统ID,关联_of_sso_realm::id'),
('_of_sso_role','packId','3',NULL,'NO',NULL,NULL,'int(10) unsigned','','角色ID,关联_of_sso_pack::id'),
('_of_sso_role','funcId','4',NULL,'NO',NULL,NULL,'int(10) unsigned','','功能ID,关联_of_sso_func::id'),
('_of_sso_user','id','1',NULL,'NO',NULL,NULL,'int(10) unsigned','auto_increment','主键'),
('_of_sso_user','name','2','','NO','utf8','utf8_general_ci','char(255)','','登录帐号'),
('_of_sso_user','pwd','3','','NO','utf8','utf8_general_ci','char(255)','','登录密码'),
('_of_sso_user','nike','4','','NO','utf8','utf8_general_ci','char(255)','','备注昵称,默认与name相同'),
('_of_sso_user','notes','5',NULL,'NO','utf8','utf8_general_ci','mediumtext','','帐号备注'),
('_of_sso_user','state','6','1','NO',NULL,NULL,'tinyint(1) unsigned','','可用状态,0=冻结,1=启用'),
('_of_sso_user','find','7',NULL,'NO',NULL,NULL,'binary(255)','','找回问答,结构:问题字节长度_问题答案,如:10_你生日?不知道'),
('_of_sso_user','time','8','CURRENT_TIMESTAMP','NO',NULL,NULL,'timestamp','on update CURRENT_TIMESTAMP','修改时间');
INSERT INTO `__STATISTICS` (`TABLE_NAME`,`NON_UNIQUE`,`INDEX_NAME`,`COLUMNS_NAME`,`INDEX_TYPE`) VALUES ('_of_sso_func','0','PRIMARY','`id`','BTREE'),
('_of_sso_func','0','通过系统ID和权限名查找权限数据','`realmId`,`name`','BTREE'),
('_of_sso_log','0','PRIMARY','`id`','BTREE'),
('_of_sso_log','1','同步更新_of_sso_realm日志操作','`site`','BTREE'),
('_of_sso_log','1','同步更新_of_sso_user日志操作','`name`','BTREE'),
('_of_sso_log','1','根据系统帐号定位登录信息','`time`,`site`,`name`','BTREE'),
('_of_sso_pack','0','PRIMARY','`id`','BTREE'),
('_of_sso_pack','0','通过系统ID和包名查找包数据','`realmId`,`name`','BTREE'),
('_of_sso_permit','0','PRIMARY','`id`','BTREE'),
('_of_sso_permit','1','同步_of_sso_pack表许可操作','`packId`','BTREE'),
('_of_sso_permit','1','同步_of_sso_user表许可操作','`userId`','BTREE'),
('_of_sso_permit','0','通过系统ID用户ID包ID查询关联数据','`realmId`,`userId`,`packId`','BTREE'),
('_of_sso_realm','0','PRIMARY','`id`','BTREE'),
('_of_sso_realm','0','根据帐号查询系统信息','`name`','BTREE'),
('_of_sso_role','0','PRIMARY','`id`','BTREE'),
('_of_sso_role','1','同步_of_sso_func表权限操作','`funcId`','BTREE'),
('_of_sso_role','1','同步_of_sso_pack表权限操作','`packId`','BTREE'),
('_of_sso_role','0','同步_of_sso_realm表权限操作','`realmId`,`packId`,`funcId`','BTREE'),
('_of_sso_user','0','PRIMARY','`id`','BTREE'),
('_of_sso_user','0','根据帐号查询用户数据','`name`','BTREE');
